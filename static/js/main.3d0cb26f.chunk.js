(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(4),o=n.n(a),i=(n(16),n(3)),s=(n(17),n(18),n(8)),u=n(1);function l(e){var t=e.onSubmitProp,n=Object(c.useState)(""),r=Object(i.a)(n,2),a=r[0],o=r[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),o("")):s.b.error("enter something!")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"on",placeholder:"Search images and photos",name:"pictureName",value:a,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var j=n(10);function b(e){var t=e.webformatURL,n=e.onOpen,c=e.largeImageURL;return Object(u.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(c)},children:Object(u.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image"})})}var m=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=23171615-fcdc729843fe7af43a640cf8d&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits}))},d=n(11),h=n.n(d);n(40);function O(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(h.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3}),"Loading..."]})})}function f(e){var t=e.onLoadMoreBtn;return Object(u.jsx)("div",{className:"load_more",children:Object(u.jsx)("button",{type:"submit",className:"Button ",onClick:t,children:"Load More"})})}var g=document.querySelector("#modal-root");function p(e){var t=e.onClose,n=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(a.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:"Modal",children:n})}),g)}var x=n(41);function v(e){var t=e.pictureName,n=Object(c.useState)(null),r=Object(i.a)(n,2),a=(r[0],r[1]),o=Object(c.useState)("idle"),s=Object(i.a)(o,2),l=s[0],d=s[1],h=Object(c.useState)([]),g=Object(i.a)(h,2),v=g[0],S=g[1],y=Object(c.useState)(1),w=Object(i.a)(y,2),N=w[0],L=w[1],k=Object(c.useState)(""),C=Object(i.a)(k,2),E=C[0],I=C[1],F=Object(c.useState)(!1),B=Object(i.a)(F,2),R=B[0],U=B[1];Object(c.useEffect)((function(){L(1)}),[t]),Object(c.useEffect)((function(){t&&(d("pending"),m(t,N).then((function(e){S(1===N?e:function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))}),0!==e.length?(d("resolved"),M()):d("rejected")})).catch((function(e){a(e)})))}),[N,t]);var M=function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},T=function(e){I(e),U(!0)};return"idle"===l?Object(u.jsx)("h1",{className:"title",children:" Enter what are you looking for."}):"pending"===l?Object(u.jsx)(O,{}):"rejected"===l?Object(u.jsxs)("h1",{className:"title",children:['By searching "',t,'" nothing found, sorry.',Object(u.jsx)("br",{}),"Try enter something else"]}):"resolved"===l?Object(u.jsxs)("div",{children:[Object(u.jsx)("ul",{className:"ImageGallery",children:v.map((function(e){return Object(u.jsx)(b,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,onOpen:T},x.generate())}))}),R&&Object(u.jsx)(p,{onClose:function(){U(!R)},children:Object(u.jsx)("img",{src:E,alt:"modal-img"})}),Object(u.jsx)(f,{onLoadMoreBtn:function(){L((function(e){return e+1}))}})]}):void 0}function S(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(l,{onSubmitProp:r}),Object(u.jsx)(v,{pictureName:n}),Object(u.jsx)(s.a,{autoClose:3e3})]})}console.log(x.generate()),o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.3d0cb26f.chunk.js.map